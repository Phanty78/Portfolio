import{getData as e}from"./shared.js";let openSourceURL="data/open-source.json",technologiesURL="/data/technologies.json",openSourceProjectsContainer=document.querySelector(".open-source__container");function displayElements(e,t,o){e.forEach(n=>{let r=document.createElement("div");r.classList.add("open-source__card"),r.setAttribute("id",n.id);let i=document.createElement("div");i.classList.add("open-source__card-img-cont");let l=document.createElement("h3");l.classList.add("open-source__card-title"),l.textContent=n.title;let a=document.createElement("img");a.classList.add("open-source__card-img"),a.loading="lazy",a.src=n.image,a.alt=n.title,i.appendChild(a),r.appendChild(i),r.appendChild(l),t.appendChild(r),r.addEventListener("click",()=>{displayModal(r.id,e,o),setupCloseModalButton(),setupCloseModalOnClickOutside()})})}function displayModal(e,t,o){let n=document.querySelector(".modal"),r=document.querySelector(".modal-title"),i=document.querySelector(".modal-description"),l=document.querySelector(".modal-image-container"),a=document.querySelector(".modal-body__contributions-description"),c=document.querySelector(".modal-body__contributions-number"),d=document.querySelector(".modal-footer__buttons"),s=document.querySelector(".modal-footer__thecnologys"),u=document.createElement("img");u.classList.add("modal-image"),u.loading="lazy",l.appendChild(u);let m=parseInt(e),p=t.find(e=>e.id===m),b="contributions";1===p.contributionNumber&&(b="contribution"),r.textContent=p.title,i.textContent=p.description,u.src=p.image,u.alt=p.title,c.textContent=p.contributionNumber+" "+b;for(let h=0;h<p.contributionDescription.length;h++){let y=document.createElement("li");y.textContent=p.contributionDescription[h],a.appendChild(y)}if(""!==p["live-link"]){let g=document.createElement("a");g.classList.add("btn","btn--med","btn--theme","dynamicBgClr","btn--card-size"),g.setAttribute("href",p["live-link"]),g.setAttribute("target","_blank"),g.setAttribute("aria-label","Link to the project demo"),g.setAttribute("rel","noopener noreferrer"),g.innerHTML="<i class='fa-solid fa-eye' aria-hidden='true'></i> Live",d.appendChild(g)}if(""!==p["source-link"]){let C=document.createElement("a");C.classList.add("btn","btn--med","btn--theme","dynamicBgClr","btn--card-size"),C.setAttribute("href",p["source-link"]),C.setAttribute("target","_blank"),C.setAttribute("aria-label","Link to the project source code"),C.setAttribute("rel","noopener noreferrer"),C.innerHTML="<i class='fa-brands fa-github' aria-hidden='true'></i> Source",d.appendChild(C)}s.classList.add("projects__row-content-technologies-container"),o.forEach(e=>{p.technologies.forEach(t=>{if(e.name===t){let o=document.createElement("img");o.classList.add("projects__row-content-technologies-container-icon"),o.setAttribute("src",e.iconURL),o.setAttribute("alt",e.alt),o.setAttribute("loading","lazy"),o.setAttribute("aria-hidden","true");let n=document.createElement("p");n.classList.add("projects__row-content-technologies-container-name"),n.textContent=e.name,s.appendChild(o),s.appendChild(n)}})}),n.classList.remove("hidden")}function setupCloseModalButton(){let e=document.querySelector(".close-modal-button");e.addEventListener("click",()=>{closeModal()})}function closeModal(){let e=document.querySelector(".modal");ResetModal(),e.classList.add("hidden")}function ResetModal(){let e=document.querySelector(".modal-title"),t=document.querySelector(".modal-description"),o=document.querySelector(".modal-image-container"),n=document.querySelector(".modal-body__contributions-description"),r=document.querySelector(".modal-body__contributions-number"),i=document.querySelector(".modal-footer__buttons"),l=document.querySelector(".modal-footer__thecnologys");e.textContent="",t.textContent="",o.innerHTML="",n.innerHTML="",r.textContent="",i.innerHTML="",l.innerHTML=""}function setupCloseModalOnClickOutside(){let e=document.querySelector(".modal");window.onclick=function(t){t.target===e&&closeModal()}}e("data/open-source.json").then(t=>{t&&e("/data/technologies.json").then(e=>{e&&displayElements(t,openSourceProjectsContainer,e)})}).catch(e=>{console.error("Error loading open source JSON",e)});